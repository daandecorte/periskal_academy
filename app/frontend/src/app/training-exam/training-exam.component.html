<div class="exam-container">
  <div class="exam-header">
    <div class="exam-title">
      <h1>{{ examTitle }}</h1>
      <p>{{ examDescription }}</p>
    </div>
    <div class="timer-container">
      <div class="timer-label">{{ "EXAM.TIME_REMAINING" | translate }}</div>
      <div class="timer-value">{{ formatTimeRemaining() }}</div>
    </div>
  </div>

  <div class="progress-indicator">
    <div class="exam-progress">
      {{ "EXAM.QUESTION_PROGRESS" | translate: { current: currentQuestionIndex + 1, total: totalQuestions } }}
    </div>
    <div class="progress-bar">
      <div class="progress-fill" [style.width]="getProgressPercentage() + '%'"></div>
    </div>
  </div>

  <div class="exam-content" *ngIf="!isExamCompleted">
    <div class="question-wrapper">
      <div class="question-icon">
        <span class="icon">?</span>
      </div>
      <div class="question-content">
        <h2>{{ "QUESTIONS.QUESTION" | translate }} {{ currentQuestionIndex + 1 }}</h2>
        <div class="question-text">
          {{ getLocalizedContent(currentQuestion?.text) }}
        </div>
      </div>
    </div>

    <div class="options-container">
      <div 
        *ngFor="let option of currentQuestion?.questionOptions"
        class="option"
        [class.selected]="selectedOptionId === option.id"
        (click)="selectOption(option.id)"
      >
        <div class="option-radio">
          <input 
            type="radio" 
            [checked]="selectedOptionId === option.id" 
            (click)="$event.stopPropagation()"
          >
        </div>
        <div class="option-text">{{ getLocalizedContent(option.text) }}</div>
      </div>
    </div>

    <div class="action-buttons">
      <button 
        class="previous-button" 
        [disabled]="currentQuestionIndex === 0"
        (click)="previousQuestion()"
      >
        <span class="arrow-icon">←</span> {{ "EXAM.PREVIOUS_QUESTION" | translate }}
      </button>
      
      <div class="action-buttons-right">
        <button 
          *ngIf="selectedOptionId !== null" 
          class="submit-button" 
          (click)="submitAnswer()"
        >
          {{ "EXAM.NEXT_QUESTION" | translate }} <span class="arrow-icon">→</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Exam Completion Screen -->
  <div class="exam-content completion-screen" *ngIf="isExamCompleted">
    <div class="completion-message">
      <h1>{{ "EXAM.COMPLETED_TITLE" | translate }}</h1>
      <p *ngIf="examScore !== undefined">
        {{ "EXAM.YOUR_SCORE" | translate: { score: examScore } }} 
        <span *ngIf="examPassed" class="pass-badge">{{ "EXAM.PASS" | translate }}</span>
        <span *ngIf="!examPassed" class="fail-badge">{{ "EXAM.FAIL" | translate }}</span>
      </p>
      <p>{{ "EXAM.COMPLETION_MESSAGE" | translate }}</p>
      <p>{{ "EXAM.SCORE_LABEL" | translate }}</p>
    </div>
    <div class="action-buttons">
      <button class="overview-button" (click)="goBackToOverview()">
        {{ "EXAM.BACK_TO_TRAININGS" | translate }}
      </button>
    </div>
  </div>
</div>