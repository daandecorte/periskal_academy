<div class="exam-container">
  <div class="exam-header">
    <div class="exam-title">
      <h1>{{ examTitle }}</h1>
      <p>{{ examDescription }}</p>
    </div>
    <div class="timer-container">
      <div class="timer-label">Time Remaining</div>
      <div class="timer-value">{{ formatTimeRemaining() }}</div>
    </div>
  </div>

  <div class="progress-indicator">
    <div class="exam-progress">Question {{ currentQuestionIndex + 1 }} of {{ totalQuestions }}</div>
    <div class="progress-bar">
      <div class="progress-fill" [style.width]="getProgressPercentage() + '%'"></div>
    </div>
  </div>

  <div class="exam-content" *ngIf="!isExamCompleted">
    <div class="question-wrapper">
      <div class="question-icon">
        <span class="icon">?</span>
      </div>
      <div class="question-content">
        <h2>Question {{ currentQuestionIndex + 1 }}</h2>
        <div class="question-text">
          {{ getLocalizedContent(currentQuestion?.text) }}
        </div>
      </div>
    </div>

    <div class="options-container">
      <div 
        *ngFor="let option of currentQuestion?.questionOptions"
        class="option"
        [class.selected]="selectedOptionId === option.id"
        (click)="selectOption(option.id)"
      >
        <div class="option-radio">
          <input 
            type="radio" 
            [checked]="selectedOptionId === option.id" 
            (click)="$event.stopPropagation()"
          >
        </div>
        <div class="option-text">{{ getLocalizedContent(option.text) }}</div>
      </div>
    </div>

    <div class="action-buttons">
      <button 
        class="previous-button" 
        [disabled]="currentQuestionIndex === 0"
        (click)="previousQuestion()"
      >
        <span class="arrow-icon">←</span> Previous Question
      </button>
      
      <div class="action-buttons-right">
        <button 
          *ngIf="selectedOptionId !== null" 
          class="submit-button" 
          (click)="submitAnswer()"
        >
          Next Question <span class="arrow-icon">→</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Exam Completion Screen -->
  <div class="exam-content completion-screen" *ngIf="isExamCompleted">
    <div class="completion-message">
      <h1>Exam Completed</h1>
      <p *ngIf="examScore !== undefined">
        Your score: {{ examScore }}% 
        <span *ngIf="examPassed" class="pass-badge">PASS</span>
        <span *ngIf="!examPassed" class="fail-badge">FAIL</span>
      </p>
      <p>Congratulations! You have successfully completed the exam.</p>
      <p>SCORE.</p>
    </div>
    <div class="action-buttons">
      <button class="overview-button" (click)="goBackToOverview()">
        Back to Trainings
      </button>
    </div>
  </div>
</div>