<div class="chat-container">
    <div class="sidebar">
        <div class="search-bar">
            <input type="text" class="search-input" placeholder="Search users...">
        </div>
        <div class="contacts-list">
            @for(chat of chats; track $index) {
                <div class="contact" (click)="changeChat(chat.id)">
                    <div class="avatar sailor-icon">{{chat.firstname[0]}}{{chat.lastname[0]}}</div>
                    <div class="contact-info">
                        <div class="contact-name">{{chat.firstname}} {{chat.lastname}}</div>
                        <div class="contact-role">{{chat.shipname}}</div>
                    </div>
                    <span class="status-badge" [ngClass]="statusClassMap[chat.status]">{{ chat.status.toString().replace('_', ' ').toLocaleLowerCase() | titlecase }}</span>
                </div>
            }
        </div>
    </div>
    <div class="chat-area">
        <div class="chat-header">
            <button class="resolve-button resolved">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                Mark as Resolved
            </button>
        </div>
        <div class="message-area">
            <div class="message">
                <div class="message-bubble">
                    I'm having trouble assigning certificates to my sailors.
                </div>
                <div class="message-meta">2 hours ago</div>
            </div>
            @for(message of messageList; track $index) {
                <div class="message">
                    <div class="message-bubble">
                        {{message.text_content}}
                    </div>
                    <div class="message-meta">{{message.date_time}}</div>
                </div>
            }
        </div>
        <div class="input-area">
            <input type="text" class="message-input" placeholder="Type your message...">
            <button class="send-button">
                <fa-icon [icon]="faPaperPlane"></fa-icon>
            </button>
        </div>
    </div>
</div>